<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Gestione Date</title>
</head>
<body>
  <h1>Gestione Date</h1>

  <p><strong>Data e ora correnti:</strong> <span id="dataOra"></span></p>

  <label for="dataInput">Inserisci una data (YYYY-MM-DD):</label>
  <input type="date" id="dataInput">
  <button onclick="analizzaData()">Analizza</button>

  <p id="risultato"></p>

  <script>
    // Mostra data e ora correnti
    function mostraDataOra() {
      let ora = new Date();
      let opzioni = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric', 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit' 
      };
      document.getElementById("dataOra").innerText = ora.toLocaleDateString('it-IT', opzioni);
    }

    mostraDataOra(); // iniziale

    function analizzaData() {
      let input = document.getElementById("dataInput").value;
      if (!input) {
        alert("Inserisci una data valida");
        return;
      }

      let dataInserita = new Date(input);
      let oggi = new Date();
      let giornoSettimana = ["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"];

      // Calcolo differenza giorni
      let diff = dataInserita - oggi;
      let giorniDiff = Math.ceil(diff / (1000 * 60 * 60 * 24));

      let statoData = "";
      if (giorniDiff > 0) {
        statoData = "La data è FUTURA. Mancano " + giorniDiff + " giorni.";
      } else if (giorniDiff < 0) {
        statoData = "La data è PASSATA. Sono trascorsi " + Math.abs(giorniDiff) + " giorni.";
      } else {
        statoData = "La data è OGGI!";
      }

      let giorno = giornoSettimana[dataInserita.getDay()];
      document.getElementById("risultato").innerHTML = `
        <strong>Giorno della settimana:</strong> ${giorno}<br>
        <strong>${statoData}</strong>
      `;
    }
  </script>
</body>
</html>


